$(document).ready(function(){var e=$(".modal"),t=$("[data-toggle=modal]"),i=$(".modal__close");t.on("click",function(){e.toggleClass("modal--visible")}),i.on("click",function(){e.toggleClass("modal--visible")});var n=$("#upbtn");$(window).scroll(function(){$(this).scrollTop()<800?n.hide():n.show()}),n.click(function(){$("html,body").animate({scrollTop:0},600)}),$("body").on("click",'[href*="#"]',function(e){$("html,body").stop().animate({scrollTop:$(this.hash).offset().top-100},1e3),e.preventDefault()});new Swiper(".swiper-container",{loop:!0,pagination:{el:".swiper-pagination",type:"bullets"},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}});var o=$(".swiper-button-next"),r=$(".swiper-button-prev"),a=$(".swiper-pagination");o.css("left",r.width()+10+a.width()+10),a.css("left",r.width()+10);var s=new Swiper(".steps__swiper-container",{loop:!0,pagination:{el:".steps__swiper-pagination",type:"bullets",clickable:!0},navigation:{nextEl:".steps__swiper-button-next",prevEl:".steps__swiper-button-prev"}});s=new Swiper(".steps__swiper-container",{loop:!0,pagination:{el:".steps__swiper-fraction",type:"fraction",clickable:!0},navigation:{nextEl:".steps__swiper-button-next",prevEl:".steps__swiper-button-prev"}});function l(e){e.target.playVideo()}$(".steps__tabs-item").on("click",function(){$(".steps__tabs-item").removeClass("active"),$(this).addClass("active");const e=$(this).data("index");s.slideTo(e)}),s.on("slideChange",function(){let e=s.activeIndex-1;6===e&&(e=0),$(".steps__tabs-item").removeClass("active"),$(".steps__tabs-item").eq(e).addClass("active")}),new WOW({boxClass:"wow",animateClass:"animated",offset:100,mobile:!0,live:!0}).init(),$(".modal__form").validate({rules:{userName:{required:!0,maxlength:15,minlength:2},checkboxModal:{required:!0},userPhone:"required",userEmail:{required:!0,email:!0}},messages:{userName:{required:"Заполните поле",minlength:"Имя не должно быть короче 2 символов",maxlength:"Имя не должно превышать 15 символов"},checkboxModal:{required:"Отметьте галочку"},userPhone:"Телефон обязателен",userEmail:{required:"Обязательно укажите e-mail",email:"Введите корректный email Пример: name@domain.com"}},errorPlacement:function(e,t){if("checkbox"==t.attr("type"))return t.next("label").append(e);e.insertAfter($(t))},errorElement:"div",errorClass:"invalid",submitHandler:function(t){$.ajax({type:"POST",url:"send.php",data:$(t).serialize(),success:function(i){let n=document.getElementById("ownModal");n.classList.add("active");setTimeout(()=>{n.classList.remove("active")},3e3),$(t)[0].reset(),e.removeClass("modal--visible")},error:function(e){return console.error("Ошибка запроса! "+e),ym("65026879","reachGoal","button"),!0}})}}),$(".control__form").validate({rules:{userName:{required:!0,maxlength:15,minlength:2},checkboxControl:{required:!0},userPhone:"required"},messages:{userName:{required:"Имя обязательно",minlength:"Имя не должно быть короче 2 символов",maxlength:"Имя не должно превышать 15 символов"},checkboxControl:{required:"Отметьте галочку"},userPhone:"Телефон обязателен"},errorPlacement:function(e,t){if("checkbox"==t.attr("type"))return t.next("label").append(e);e.insertAfter($(t))},errorElement:"div",errorClass:"invalid",submitHandler:function(t){$.ajax({type:"POST",url:"send.php",data:$(t).serialize(),success:function(i){let n=document.getElementById("ownModal");n.classList.add("active");setTimeout(()=>{n.classList.remove("active")},3e3),$(t)[0].reset(),e.removeClass("modal--visible")},error:function(e){console.error("Ошибка запроса! "+e)}})}}),$(".footer__form").validate({rules:{userName:{required:!0,maxlength:15,minlength:2},checkboxFooter:{required:!0},userPhone:"required",userQuestion:"required"},messages:{userName:{required:"Заполните поле",minlength:"Имя не должно быть короче 2 символов",maxlength:"Имя не должно превышать 15 символов"},checkboxFooter:{required:"Отметьте галочку"},userPhone:"Телефон обязателен",userQuestion:"Обязательно введите свой вопрос!"},errorPlacement:function(e,t){if("checkbox"==t.attr("type"))return t.next("label").append(e);e.insertAfter($(t))},errorElement:"div",errorClass:"invalid",submitHandler:function(t){$.ajax({type:"POST",url:"send.php",data:$(t).serialize(),success:function(i){let n=document.getElementById("ownModal");n.classList.add("active");setTimeout(()=>{n.classList.remove("active")},3e3),$(t)[0].reset(),e.removeClass("modal--visible")},error:function(e){console.error("Ошибка запроса! "+e)}})}}),ownModal.onclick=function(){ownModal.classList.remove("active")},$("[type=tel]").mask("+7(000) 00-00-000",{placeholder:"Ваш номер телефона"}),$(".video__play").on("click",function(){new YT.Player("player",{height:"460",width:"100%",videoId:"RHzzLqJWqHs",events:{onReady:l}})}),ymaps.ready(function(){var e=new ymaps.Map("map-in",{center:[47.244734,39.723227],zoom:18},{searchControlProvider:"yandex#search"}),t=(ymaps.templateLayoutFactory.createClass('<div style="color: #FFFFFF; font-weight: bold;">$[properties.iconContent]</div>'),new ymaps.Placemark(e.getCenter(),{hintContent:"Собственный значок метки",balloonContent:"Это красивая метка"},{iconLayout:"default#image",iconImageHref:"img/location.png",iconImageSize:[32,32],iconImageOffset:[-5,-38]}));e.behaviors.disable("scrollZoom"),e.geoObjects.add(t)})});